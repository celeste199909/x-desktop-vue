<template>
    <label for="basic-range-slider-usage" class="sr-only">Example range</label>
    <input type="range" v-model="setting.bgOpacity" @input="onInput"
        class="w-full bg-transparent cursor-pointer appearance-none disabled:opacity-50 disabled:pointer-events-none focus:outline-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:-mt-0.5 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:shadow-[0_0_0_4px_rgba(37,99,235,1)] [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:duration-150 [&::-webkit-slider-thumb]:ease-in-out [&::-webkit-slider-thumb]:dark:bg-slate-700 [&::-webkit-slider-runnable-track]:w-full [&::-webkit-slider-runnable-track]:h-2 [&::-webkit-slider-runnable-track]:bg-gray-100 [&::-webkit-slider-runnable-track]:rounded-full [&::-webkit-slider-runnable-track]:dark:bg-gray-700"
        id="basic-range-slider-usage" />
</template>

<script setup>
import { onMounted } from 'vue';
import { inject } from 'vue';

const setting = inject('setting')
function onInput(event) {
    console.log("onchange", event.target.value);
    setBgOpacity();
}

onMounted(() => {
    setBgOpacity();
})

function setBgOpacity() {
    document.getElementById("app").setAttribute("style", `background-color: rgba(0,0,0,${setting.value.bgOpacity / 100})`)
}

</script>
<style scoped></style>
